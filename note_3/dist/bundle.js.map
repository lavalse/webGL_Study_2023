{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://note_3/./src/demo/assign_texture.ts","webpack://note_3/./src/components/webglUtils.ts","webpack://note_3/./src/components/createBuffer.ts","webpack://note_3/./src/components/initTexture.ts","webpack://note_3/./src/source/cat_512x512.jpg","webpack://note_3/./src/shaders/vertexShader.vert.glsl","webpack://note_3/./src/shaders/fragmentShader.frag.glsl","webpack://note_3/webpack/bootstrap","webpack://note_3/webpack/runtime/define property getters","webpack://note_3/webpack/runtime/global","webpack://note_3/webpack/runtime/hasOwnProperty shorthand","webpack://note_3/webpack/runtime/make namespace object","webpack://note_3/webpack/runtime/publicPath","webpack://note_3/./src/app.ts"],"sourcesContent":["import { initShaders } from \"../components/webglUtils\";\r\nimport { createBuffer } from \"../components/createBuffer\";\r\nimport { initTexture } from \"../components/initTexture\";\r\n\r\nexport function demo_3 (){\r\n  let canvas: HTMLCanvasElement = <HTMLCanvasElement>document.getElementById(\"webGL_Demo_3\") ;\r\n  let gl: WebGLRenderingContext = <WebGLRenderingContext> canvas.getContext(\"webgl\");\r\n\r\n  let vertexShader: string = require(\"../shaders/vertexShader.vert.glsl\")\r\n\r\n  let fragmentShader: string = require('../shaders/fragmentShader.frag.glsl')\r\n\r\n  let webGLProgram = <WebGLProgram> initShaders(gl, vertexShader, fragmentShader);\r\n\r\n  createBuffer(gl,webGLProgram);\r\n\r\n  initTexture(gl, webGLProgram);\r\n\r\n\r\n  //draw content\r\n  gl.clearColor(0.0,0.0,0.0,1.0);\r\n  gl.clear(gl.COLOR_BUFFER_BIT); \r\n  gl.drawArrays(gl.TRIANGLE_STRIP, 0, 4);\r\n\r\n}"," function createShader(gl: WebGLRenderingContext, type: GLenum, source: string): WebGLShader | null {\r\n  const shader = gl.createShader(type);\r\n  if (!shader) {\r\n      console.error(\"Unable to create shader.\");\r\n      return null;\r\n  }\r\n\r\n  gl.shaderSource(shader, source);\r\n  gl.compileShader(shader);\r\n\r\n  if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\r\n      console.error(\"Shader compilation error:\", gl.getShaderInfoLog(shader));\r\n      gl.deleteShader(shader);\r\n      return null;\r\n  }\r\n\r\n  return shader;\r\n}\r\n\r\n\r\n function createProgram(gl: WebGLRenderingContext, vertexShader:WebGLShader, fragmentShader:WebGLShader): WebGLProgram|null{\r\n  const program = <WebGLProgram>gl.createProgram();\r\n  gl.attachShader(program,vertexShader);\r\n  gl.attachShader(program,fragmentShader);\r\n  gl.linkProgram(program);\r\n\r\n  const linked = gl.getProgramParameter(program, gl.LINK_STATUS)\r\n  if(linked){\r\n    return program;\r\n  }else{\r\n    const error = gl.getProgramInfoLog(program);\r\n    console.log(\"link program error:\" + error);\r\n    gl.deleteProgram(program);\r\n    gl.deleteShader(vertexShader);\r\n    gl.deleteBuffer(fragmentShader);\r\n    return null\r\n  }\r\n}\r\n\r\nexport function initShaders(gl: WebGLRenderingContext, vertexSource:string, fragmentSource:string):WebGLProgram|null{\r\n\r\n  const vertexShader = <WebGLShader>createShader (gl, gl.VERTEX_SHADER, vertexSource);\r\n  const fragmentShader = <WebGLShader>createShader(gl, gl.FRAGMENT_SHADER, fragmentSource);\r\n\r\n  const program = createProgram(gl, vertexShader, fragmentShader);\r\n\r\n  if(program){\r\n    gl.useProgram(program);\r\n    return program;\r\n  }else{\r\n    console.log(\"fail to init shaders\");\r\n    return false\r\n  }\r\n}","\r\nexport function createBuffer(\r\n  gl: WebGLRenderingContext,\r\n  program: WebGLProgram\r\n){\r\n\r\n  //create vertex position arrary\r\n  let vertices = new Float32Array([\r\n    -0.5, -0.5, 0.0,\r\n    -0.5, 0.5, 0.0,\r\n    0.5, -0.5, 0.0,\r\n    0.5, 0.5, 0.0\r\n  ])\r\n  const FSIZE = vertices.BYTES_PER_ELEMENT;\r\n\r\n  let uvs = new Float32Array([\r\n    0.0, 0.0,\r\n    0.0, 1.0,\r\n    1.0, 0.0,\r\n    1.0, 1.0\r\n  ])\r\n\r\n  \r\n  const vertexBuffer = gl.createBuffer();\r\n  gl.bindBuffer(gl.ARRAY_BUFFER, vertexBuffer);\r\n  gl.bufferData(gl.ARRAY_BUFFER, vertices, gl.STATIC_DRAW);\r\n\r\n  let a_position = gl.getAttribLocation(program, \"a_position\");\r\n  gl.vertexAttribPointer(a_position, 3, gl.FLOAT, false, FSIZE*3, 0);\r\n  gl.enableVertexAttribArray(a_position);\r\n\r\n  const uvBuffer = gl.createBuffer();\r\n  gl.bindBuffer(gl.ARRAY_BUFFER, uvBuffer);\r\n  gl.bufferData(gl.ARRAY_BUFFER, uvs, gl.STATIC_DRAW);\r\n\r\n  let a_uv = gl.getAttribLocation(program, \"a_uv\");\r\n  gl.vertexAttribPointer(a_uv, 2, gl.FLOAT, false, FSIZE*2, 0);\r\n  gl.enableVertexAttribArray(a_uv);\r\n}","import img from \"../source/cat_512x512.jpg\"\r\n\r\nexport function initTexture(gl:WebGLRenderingContext, program:WebGLProgram){\r\n\r\n  let texture = gl.createTexture();\r\n  let u_sampler = gl.getUniformLocation(program, \"u_sampler\");\r\n\r\n  let image = new Image()\r\n  image.src = img;\r\n\r\n  image.onload = function(){\r\n    console.log(\"image loaded\");\r\n    \r\n    gl.activeTexture(gl.TEXTURE0);\r\n    gl.bindTexture(gl.TEXTURE_2D, texture);\r\n\r\n    gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\r\n    gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image);\r\n\r\n    gl.uniform1i(u_sampler, 0);\r\n\r\n    let app = document.getElementById(\"image\");\r\n    app?.appendChild(image);\r\n\r\n  }\r\n\r\n}","export default __webpack_public_path__ + \"d078a350673f3265a04f2d8a76d87a03.jpg\";","module.exports = \"\\r\\nattribute vec3 a_position;\\r\\nattribute vec2 a_uv;\\r\\nvarying vec2 v_uv;\\r\\n\\r\\nvoid main(){\\r\\n  v_uv = a_uv;\\r\\n  gl_Position = vec4(a_position, 1.0);\\r\\n  gl_PointSize = 10.0;\\r\\n}\"","module.exports = \"precision mediump float;\\r\\n\\r\\nvarying vec2 v_uv;\\r\\nuniform sampler2D u_sampler;\\r\\n\\r\\nvoid main(){\\r\\n  vec4 color = texture2D(u_sampler, v_uv);\\r\\n  gl_FragColor = color;\\r\\n}\"","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src;\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) {\n\t\t\tvar i = scripts.length - 1;\n\t\t\twhile (i > -1 && (!scriptUrl || !/^http(s?):/.test(scriptUrl))) scriptUrl = scripts[i--].src;\n\t\t}\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","import { demo_1 } from \"./demo/random_points_in_buffers\";\r\nimport { demo_2 } from \"./demo/transform_matrix\";\r\nimport { demo_3 } from \"./demo/assign_texture\";\r\n\r\n// demo_1();\r\n// demo_2();\r\ndemo_3();"],"names":[],"sourceRoot":""}