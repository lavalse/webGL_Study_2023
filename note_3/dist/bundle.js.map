{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://note_3/./src/demo/random_points_in_buffers.ts","webpack://note_3/./src/components/webglUtils.ts","webpack://note_3/./src/demo/transform_matrix.ts","webpack://note_3/webpack/bootstrap","webpack://note_3/./src/app.ts"],"sourcesContent":["import { initShaders  } from '../components/webglUtils';\r\n\r\nexport function demo_1 (){\r\n  let canvas: HTMLCanvasElement = <HTMLCanvasElement>document.getElementById(\"webGL_Demo_1\") ;\r\n\r\n  let gl: WebGLRenderingContext = <WebGLRenderingContext> canvas.getContext(\"webgl\");\r\n  \r\n  //vertexShader, fragmentShader\r\n  let vertexSource = `\r\n  attribute vec2 a_position;\r\n  attribute vec3 a_vertexColor;\r\n  varying vec3 v_vertexColor;\r\n  void main(){\r\n    v_vertexColor = a_vertexColor;\r\n    gl_Position = vec4(a_position,0.0,1.0);\r\n    gl_PointSize = 10.0;\r\n  }\r\n  `;\r\n  \r\n  let fragmentSource = `\r\n  precision mediump float;\r\n  varying vec3 v_vertexColor;\r\n  \r\n  void main(){\r\n    gl_FragColor = vec4(v_vertexColor,1.0);\r\n  }\r\n  `;\r\n  \r\n  const webGLProgram = <WebGLProgram>initShaders(gl,vertexSource,fragmentSource);\r\n  \r\n  gl.clearColor(0.0,0.0,0.0,1.0);\r\n  gl.clear(gl.COLOR_BUFFER_BIT);\r\n  \r\n  // const vertices = [\r\n  //   -0.5,0.0,1.0,0.0,0.0,\r\n  //   0.5,0.0,0.0,1.0,0.0,\r\n  //   0.0,0.8,0.0,0.0,1.0\r\n  // ];\r\n  \r\n  let vertices: number[] = [];\r\n  const count = 10;\r\n  \r\n  for(let i=0; i< count; i++){\r\n    let x = Math.random() * 2 - 1;\r\n    let y = Math.random() * 2 - 1;\r\n    let r = Math.random();\r\n    let g = Math.random();\r\n    let b = Math.random();\r\n  \r\n    vertices.push(x,y,r,g,b);\r\n  }\r\n  \r\n  const vertices32 = new Float32Array(vertices);\r\n  \r\n  const FSIZE = vertices32.BYTES_PER_ELEMENT;\r\n  \r\n  //创建buffer，然后来使用buffer\r\n  \r\n  const buffer = gl.createBuffer();\r\n  \r\n  gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\r\n  \r\n  gl.bufferData(gl.ARRAY_BUFFER, vertices32, gl.STATIC_DRAW);\r\n  \r\n  const a_position = gl.getAttribLocation(webGLProgram,\"a_position\");\r\n  \r\n  gl.vertexAttribPointer(\r\n    a_position,\r\n    2,\r\n    gl.FLOAT,\r\n    false,\r\n    5 * FSIZE,\r\n    0\r\n  );\r\n  \r\n  const a_vertexColor = gl.getAttribLocation(webGLProgram,\"a_vertexColor\");\r\n  \r\n  gl.vertexAttribPointer(\r\n    a_vertexColor,\r\n    3,\r\n    gl.FLOAT,\r\n    false,\r\n    5 * FSIZE,\r\n    2 * FSIZE\r\n  );\r\n  \r\n  gl.enableVertexAttribArray(a_position);\r\n  gl.enableVertexAttribArray(a_vertexColor);\r\n  \r\n  gl.drawArrays(gl.TRIANGLE_STRIP, 0, count);\r\n  \r\n}\r\n\r\n\r\n"," function createShader(gl: WebGLRenderingContext, type: GLenum, source: string): WebGLShader | null {\r\n  const shader = gl.createShader(type);\r\n  if (!shader) {\r\n      console.error(\"Unable to create shader.\");\r\n      return null;\r\n  }\r\n\r\n  gl.shaderSource(shader, source);\r\n  gl.compileShader(shader);\r\n\r\n  if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\r\n      console.error(\"Shader compilation error:\", gl.getShaderInfoLog(shader));\r\n      gl.deleteShader(shader);\r\n      return null;\r\n  }\r\n\r\n  return shader;\r\n}\r\n\r\n\r\n function createProgram(gl: WebGLRenderingContext, vertexShader:WebGLShader, fragmentShader:WebGLShader): WebGLProgram|null{\r\n  const program = <WebGLProgram>gl.createProgram();\r\n  gl.attachShader(program,vertexShader);\r\n  gl.attachShader(program,fragmentShader);\r\n  gl.linkProgram(program);\r\n\r\n  const linked = gl.getProgramParameter(program, gl.LINK_STATUS)\r\n  if(linked){\r\n    return program;\r\n  }else{\r\n    const error = gl.getProgramInfoLog(program);\r\n    console.log(\"link program error:\" + error);\r\n    gl.deleteProgram(program);\r\n    gl.deleteShader(vertexShader);\r\n    gl.deleteBuffer(fragmentShader);\r\n    return null\r\n  }\r\n}\r\n\r\nexport function initShaders(gl: WebGLRenderingContext, vertexSource:string, fragmentSource:string):WebGLProgram|null{\r\n\r\n  const vertexShader = <WebGLShader>createShader (gl, gl.VERTEX_SHADER, vertexSource);\r\n  const fragmentShader = <WebGLShader>createShader(gl, gl.FRAGMENT_SHADER, fragmentSource);\r\n\r\n  const program = createProgram(gl, vertexShader, fragmentShader);\r\n\r\n  if(program){\r\n    gl.useProgram(program);\r\n    return program;\r\n  }else{\r\n    console.log(\"fail to init shaders\");\r\n    return false\r\n  }\r\n}","import { initShaders  } from '../components/webglUtils';\r\n\r\nexport function demo_2 (){\r\n  let canvas: HTMLCanvasElement = <HTMLCanvasElement>document.getElementById(\"webGL_Demo_2\") ;\r\n\r\n  let gl: WebGLRenderingContext = <WebGLRenderingContext> canvas.getContext(\"webgl\");\r\n  \r\n  //vertexShader, fragmentShader\r\n  let vertexSource = `\r\n  attribute vec2 a_position;\r\n  attribute vec3 a_vertexColor;\r\n  varying vec3 v_vertexColor;\r\n  void main(){\r\n    v_vertexColor = a_vertexColor;\r\n    gl_Position = vec4(a_position,0.0,1.0);\r\n    gl_PointSize = 10.0;\r\n  }\r\n  `;\r\n  \r\n  let fragmentSource = `\r\n  precision mediump float;\r\n  varying vec3 v_vertexColor;\r\n  \r\n  void main(){\r\n    gl_FragColor = vec4(v_vertexColor,1.0);\r\n  }\r\n  `;\r\n  \r\n  const webGLProgram = <WebGLProgram>initShaders(gl,vertexSource,fragmentSource);\r\n  \r\n  gl.clearColor(0.0,0.0,0.0,1.0);\r\n  gl.clear(gl.COLOR_BUFFER_BIT);\r\n  \r\n  const vertices = [\r\n    -0.5,0.0,1.0,0.0,0.0,\r\n    0.5,0.0,0.0,1.0,0.0,\r\n    0.0,0.8,0.0,0.0,1.0\r\n  ];\r\n  \r\n  \r\n  const vertices32 = new Float32Array(vertices);\r\n  \r\n  const FSIZE = vertices32.BYTES_PER_ELEMENT;\r\n  \r\n  //创建buffer，然后来使用buffer\r\n  \r\n  const buffer = gl.createBuffer();\r\n  \r\n  gl.bindBuffer(gl.ARRAY_BUFFER, buffer);\r\n  \r\n  gl.bufferData(gl.ARRAY_BUFFER, vertices32, gl.STATIC_DRAW);\r\n  \r\n  const a_position = gl.getAttribLocation(webGLProgram,\"a_position\");\r\n  \r\n  gl.vertexAttribPointer(\r\n    a_position,\r\n    2,\r\n    gl.FLOAT,\r\n    false,\r\n    5 * FSIZE,\r\n    0\r\n  );\r\n  \r\n  const a_vertexColor = gl.getAttribLocation(webGLProgram,\"a_vertexColor\");\r\n  \r\n  gl.vertexAttribPointer(\r\n    a_vertexColor,\r\n    3,\r\n    gl.FLOAT,\r\n    false,\r\n    5 * FSIZE,\r\n    2 * FSIZE\r\n  );\r\n  \r\n  gl.enableVertexAttribArray(a_position);\r\n  gl.enableVertexAttribArray(a_vertexColor);\r\n  \r\n  gl.drawArrays(gl.TRIANGLE_STRIP, 0, 3);\r\n  \r\n}\r\n\r\n\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","import { demo_1 } from \"./demo/random_points_in_buffers\";\r\nimport { demo_2 } from \"./demo/transform_matrix\";\r\n\r\ndemo_1();\r\ndemo_2();"],"names":[],"sourceRoot":""}